# 2020-2021学年第2学期
# 实 验 报 告

![zucc](images\\zucc.png "zucc")

* 课程名称:编程语言原理与编译
* 实验项目:期末大作业
* 专业班级:<u>计算机2004</u>
* 学生学号:<u>32001056 &nbsp;&nbsp; 32001108</u>
* 学生姓名:<u>吴宝俊 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 杨文韬</u>
* 实验指导教师:郭鸣

# 实验内容
### 成员信息

| 姓名 | 学号 | 班级 | 任务 | 权重 |
| --- | --- | --- | --- | --- |
|吴宝俊|32001056|计算机2004|编码|0.95| 
|杨文韬|32001108|计算机2004|编码|0.95|

### 成员代码提交日志


### 项目自评等级:(1-5)

| 词法 | 词法 | 备注 |
| --- | --- | --- |
|注释 // /**/|||
|字符串常量 单引号' ' 双引号 "" 三引号 '''|||		
|数值常量 0b0101， 八进制0o777 十六0xFFDA|||
|语法|||
|if的多种方式 switch case|||
|循环 for / while / do while/ until|||
|for in 表达式|||
|语义|||
|动态作用域，静态作用域|||
|闭包支持||
|模式匹配支持|||
|中间代码生成 AST，四元式，三元式，llvm|||
|生成器 generator, yield|||

### 项目说明
1. for模块实现
修改了CLex.fs文件34行
```
| "for"     -> FOR
```
修改了CLex.fsl文件32行
```
| "for"     -> FOR
```
修改了Comp.fs文件190行
```
| For (e1, e2, e3, body) ->
    let labbegin = newLabel()
    let labtest  = newLabel()

    cExpr e1 varEnv funEnv @ [INCSP -1]
        @ [GOTO labtest; Label labbegin]
            @ cStmt body varEnv funEnv
                @ cExpr e3 varEnv funEnv @ [INCSP -1]
                    @ [Label labtest]
                        @ cExpr e2 varEnv funEnv @ [IFNZRO labbegin]
```
修改了CPar.fsy文件20行
```
%token CHAR ELSE IF INT NULL PRINT PRINTLN RETURN VOID WHILE FOR
```
修改了CPar.fsi文件39行
```
  | FOR
```
修改了CPar.fs文件60行
```
  | FOR
```
测试代码存放于test\\forTest.c
```
void main (int n){
    int a;
    for (a = 0;a < n;a = a + 1){
        print a;
    }
}
```
测试成果
![forTest](images\\forTest.png "forTest")


### 独立开发了 xx 模块
   - 解决 xxx 问题1， 关键代码与步骤如下
     - ...
     - ...

### 心得体会
   - 大项目开发过程心得
     - 遇到哪些困难，经历哪里过程，有哪些收获
   - 本课程建议
     - 课程难度方面，进度方面，课程内容，授课方式等，给出你的意见